# riscv-os
`操作系统实践`课程代码仓库.

## IMPORTANCES
1. 可使用以下makefile命令：`make qemu`，`make qemu-gdb`，`make clean`.
2. 默认开启了系统调用的调试打印信息，需要关闭可在`include/defs.h`开头注释掉`#define SYSCALL_DEBUG`.（开启是因为开发过程中经常需要判断卡在哪个系统调用上.）
3. 文件系统部分由于时间比较仓促，大体上直接把xv6的文件系统移了过来，与课程实验中要实现的系统调用有一些差异，可能有潜在的bug。

## 项目说明
1. 本项目参考了[xv6-riscv](https://github.com/mit-pdos/xv6-riscv), 主要过程为阅读xv6源代码，然后对照xv6的代码进行编写。有很多地方直接使用了其源代码。
2. 本项目在整体架构上，将头文件和实现文件分开，且按照实现逻辑分目录组织。但由于个人兴趣，模仿了xv6，把各模块接口函数的声明放在了同一个头文件`defs.h`, 其他头文件仅涉及结构体定义，不涉及接口函数声明。

## reminder
- 模式切换：M -> S, S <-> U
- 进程调度与睡眠
- `static`关键字的使用。
